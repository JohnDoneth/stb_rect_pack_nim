<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>stb_rect_pack</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);

  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
      toggleSwitch.checked = true;
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">stb_rect_pack</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="theindex.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#Heuristic"
    title="Heuristic {.pure.} = enum
  hSkylineDefault,          ## Use whatever the default heuristic is.
  hSkylineBLSortHeight, hSkylineBFSortHeight">Heuristic</a></li>
  <li><a class="reference" href="#RectPackContext"
    title="RectPackContext = object
  raw: ptr stbrp_context
  nodes: ptr stbrp_node
  node_len: cint">RectPackContext</a></li>
  <li><a class="reference" href="#Rect"
    title="Rect = object
  id*: cint                  ## reserved for your use
  width*: cint
  height*: cint
  x*: cint
  y*: cint
  was_packed*: bool">Rect</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">packRects
      <li><a class="reference" href="#packRects%2Cref.RectPackContext%2CopenArray%5BRect%5D"
    title="packRects(context: ref RectPackContext; rects: openArray[Rect]): bool">packRects,<wbr>ref.RectPackContext,<wbr>openArray[Rect]</a></li>

  </ul>
  <ul class="simple nested-toc-section">setHeuristic
      <li><a class="reference" href="#setHeuristic%2Cref.RectPackContext%2CHeuristic"
    title="setHeuristic(context: ref RectPackContext; heuristic: Heuristic)">setHeuristic,<wbr>ref.RectPackContext,<wbr>Heuristic</a></li>

  </ul>
  <ul class="simple nested-toc-section">newRectPackContext
      <li><a class="reference" href="#newRectPackContext%2Cint%2Cint%2Cint"
    title="newRectPackContext(width, height, nodes: int): ref RectPackContext">newRectPackContext,<wbr>int,<wbr>int,<wbr>int</a></li>

  </ul>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"></p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="stb_rect_pack/stb_rect_pack.html">stb_rect_pack/stb_rect_pack</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="Heuristic"></a>
<dt><pre><a href="stb_rect_pack.html#Heuristic"><span class="Identifier">Heuristic</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">pure</span></span><span class="Other">.}</span></span> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">hSkylineDefault</span><span class="Other">,</span>          <span class="Comment">## Use whatever the default heuristic is.</span>
  <span class="Identifier">hSkylineBLSortHeight</span><span class="Other">,</span> <span class="Identifier">hSkylineBFSortHeight</span></pre></dt>
<dd>



</dd>
<a id="RectPackContext"></a>
<dt><pre><a href="stb_rect_pack.html#RectPackContext"><span class="Identifier">RectPackContext</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">raw</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="stb_rect_pack/stb_rect_pack.html#stbrp_context"><span class="Identifier">stbrp_context</span></a>
  <span class="Identifier">nodes</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="stb_rect_pack/stb_rect_pack.html#stbrp_node"><span class="Identifier">stbrp_node</span></a>
  <span class="Identifier">node_len</span><span class="Other">:</span> <span class="Identifier">cint</span>
</pre></dt>
<dd>



</dd>
<a id="Rect"></a>
<dt><pre><a href="stb_rect_pack.html#Rect"><span class="Identifier">Rect</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">id</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cint</span>                  <span class="Comment">## reserved for your use</span>
  <span class="Identifier">width</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cint</span>
  <span class="Identifier">height</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cint</span>
  <span class="Identifier">x</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cint</span>
  <span class="Identifier">y</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cint</span>
  <span class="Identifier">was_packed</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>
</pre></dt>
<dd>



</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="newRectPackContext,int,int,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newRectPackContext%2Cint%2Cint%2Cint"><span class="Identifier">newRectPackContext</span></a><span class="Other">(</span><span class="Identifier">width</span><span class="Other">,</span> <span class="Identifier">height</span><span class="Other">,</span> <span class="Identifier">nodes</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ref</span> <a href="stb_rect_pack.html#RectPackContext"><span class="Identifier">RectPackContext</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<dl class="docutils"><dt>Initialize a rectangle packer to:</dt>
<dd>pack a rectangle that is 'width' by 'height' in dimensions using temporary storage provided by the array 'nodes', which is 'num_nodes' long</dd>
</dl>
<p>You must call this function every time you start packing into a new target.</p>
<p>There is no &quot;shutdown&quot; function. The 'nodes' memory must stay valid for the following stbrp_pack_rects() call (or calls), but can be freed after the call (or calls) finish.</p>
<p>Note: to guarantee best results: make sure 'num_nodes' &gt;= 'width'</p>


</dd>
<a id="setHeuristic,ref.RectPackContext,Heuristic"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setHeuristic%2Cref.RectPackContext%2CHeuristic"><span class="Identifier">setHeuristic</span></a><span class="Other">(</span><span class="Identifier">context</span><span class="Other">:</span> <span class="Keyword">ref</span> <a href="stb_rect_pack.html#RectPackContext"><span class="Identifier">RectPackContext</span></a><span class="Other">;</span> <span class="Identifier">heuristic</span><span class="Other">:</span> <a href="stb_rect_pack.html#Heuristic"><span class="Identifier">Heuristic</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Optionally select which packing heuristic the library should use. Different heuristics will produce better/worse results for different data sets. If you call init again, this will be reset to the default.

</dd>
<a id="packRects,ref.RectPackContext,openArray[Rect]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#packRects%2Cref.RectPackContext%2CopenArray%5BRect%5D"><span class="Identifier">packRects</span></a><span class="Other">(</span><span class="Identifier">context</span><span class="Other">:</span> <span class="Keyword">ref</span> <a href="stb_rect_pack.html#RectPackContext"><span class="Identifier">RectPackContext</span></a><span class="Other">;</span> <span class="Identifier">rects</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><a href="stb_rect_pack.html#Rect"><span class="Identifier">Rect</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Assign packed locations to rectangles. The rectangles are of type 'stbrp_rect' defined below, stored in the array 'rects', and there are 'num_rects' many of them.</p>
<p>Rectangles which are successfully packed have the 'was_packed' flag set to a non-zero value and 'x' and 'y' store the minimum location on each axis (i.e. bottom-left in cartesian coordinates, top-left if you imagine y increasing downwards). Rectangles which do not fit have the 'was_packed' flag set to 0.</p>
<p>You should not try to access the 'rects' array from another thread while this function is running, as the function temporarily reorders the array while it executes.</p>
<p>To pack into another rectangle, you need to call stbrp_init_target again. To continue packing into the same rectangle, you can call this function again. Calling this multiple times with multiple rect arrays will probably produce worse packing results than calling it a single time with the full rectangle array, but the option is available.</p>
<p>The function returns 1 if all of the rectangles were successfully packed and 0 otherwise.</p>


</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2021-09-02 00:50:32 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
